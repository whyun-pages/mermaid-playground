# Mermaid 演练场

一个功能强大的 Mermaid 在线演练场项目，支持对输入的 Mermaid 代码进行实时渲染，并支持对渲染结果进行编辑和导出。

## 功能特性

### 🎨 核心功能
- **实时渲染**: 输入 Mermaid 代码后立即显示渲染结果
- **代码高亮**: 基于 Monaco Editor 的智能代码编辑
- **多种主题**: 支持默认、黑暗、森林、中性、基础等多种主题
- **导出功能**: 支持导出为 PNG、SVG 格式，以及复制到剪贴板

### 📝 模板系统
- **新建模板选择**: 点击新建按钮时弹出模板选择框
- **空白模板**: 从空白开始创建（排在首位，样式为 + 号）
- **流程图模板**: 创建流程图和决策树
- **时序图模板**: 展示系统交互时序
- **类图模板**: 设计类和对象关系
- **状态图模板**: 描述状态转换流程
- **甘特图模板**: 项目进度和时间管理

### 💾 数据管理
- **本地存储**: 使用 IndexedDB 进行本地数据存储
- **历史记录**: 保存和切换历史代码
- **项目命名**: 支持项目名称编辑和管理

## 使用方法

### 创建新项目
1. 点击导航栏中的"新建"按钮
2. 在弹出的模板选择框中选择合适的模板
3. 空白模板会创建空白的编辑器
4. 其他模板会预填充相应的 Mermaid 代码

### 编辑和渲染
1. 在左侧代码编辑器中输入或修改 Mermaid 代码
2. 右侧会实时显示渲染结果
3. 可以通过主题选择器切换不同的渲染主题

### 保存和导出
1. 点击"保存"按钮将当前代码保存到本地
2. 点击"导出"按钮选择导出格式（PNG/SVG/复制到剪贴板）
3. 使用"切换"按钮查看和管理历史保存的代码

## 技术栈

- **前端框架**: 原生 JavaScript (ES6+)
- **代码编辑器**: Monaco Editor
- **图表渲染**: Mermaid.js
- **构建工具**: Vite
- **包管理**: pnpm
- **代码规范**: ESLint + Prettier

## 开发

### 安装依赖
```bash
pnpm install
```

### 启动开发服务器
```bash
pnpm run dev
```

### 构建生产版本
```bash
pnpm run build
```

### 代码检查
```bash
pnpm run lint
```

## 项目结构

```
mermaid/
├── index.html          # 主页面
├── src/
│   ├── main.js         # 主应用逻辑
│   ├── monaco.js       # Monaco Editor 配置
│   ├── mermaid.js      # Mermaid 渲染逻辑
│   ├── data-operation.js # 数据操作和模板管理
│   ├── templates.js    # 模板数据定义
│   ├── settings.js     # 设置管理
│   ├── util.js         # 工具函数
│   └── styles/
│       └── main.css    # 样式文件
├── images/             # 图标和图片资源
└── package.json        # 项目配置
```

## 模板系统

项目内置了多种常用的 Mermaid 图表模板：

### 空白模板
- **图标**: +
- **描述**: 从空白开始创建
- **用途**: 适合自定义图表开发

### 流程图模板
- **图标**: 📊
- **描述**: 创建流程图和决策树
- **代码**: 包含开始、判断、执行、结束等节点

### 时序图模板
- **图标**: ⏱️
- **描述**: 展示系统交互时序
- **代码**: 包含用户、系统、数据库等参与者

### 类图模板
- **图标**: 🏗️
- **描述**: 设计类和对象关系
- **代码**: 包含类定义和继承关系

### 状态图模板
- **图标**: 🔄
- **描述**: 描述状态转换流程
- **代码**: 包含状态定义和转换条件

### 甘特图模板
- **图标**: 📅
- **描述**: 项目进度和时间管理
- **代码**: 包含任务定义和时间安排

## 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目！

## 许可证

MIT License

